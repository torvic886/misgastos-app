<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<HBox spacing="15"
      styleClass="content"
      xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.misgastos.controller.RegistroGastoController">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- IZQUIERDA: FORMULARIO -->
    <VBox spacing="12" HBox.hgrow="NEVER" prefWidth="420" maxWidth="420">

        <Label text="âž• Registrar Gasto" styleClass="content-title" style="-fx-font-size: 20px;"/>

        <GridPane hgap="10" vgap="8">
            <columnConstraints>
                <ColumnConstraints prefWidth="110" minWidth="110"/>
                <ColumnConstraints hgrow="ALWAYS"/>
            </columnConstraints>

            <Label text="CategorÃ­a:" GridPane.rowIndex="0"/>
            <ComboBox fx:id="cmbCategoria" promptText="Seleccione" 
                      GridPane.rowIndex="0" GridPane.columnIndex="1" maxWidth="Infinity"/>

            <Label text="SubcategorÃ­a:" GridPane.rowIndex="1"/>
            <ComboBox fx:id="cmbSubcategoria" promptText="Seleccione"
                      GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="Infinity"/>

            <Label text="Producto:" GridPane.rowIndex="2"/>
            <ComboBox fx:id="cmbProducto" editable="true" promptText="Ej: Arroz"
                      GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="Infinity"/>

            <Label fx:id="lblCedula" text="CÃ©dula:" GridPane.rowIndex="3" 
                   visible="false" managed="false"/>
            <TextField fx:id="txtCedula" promptText="Solo nÃºmeros"
                       GridPane.rowIndex="3" GridPane.columnIndex="1"
                       visible="false" managed="false"/>

            <Label text="Cantidad:" GridPane.rowIndex="4"/>
            <TextField fx:id="txtCantidad" text="1" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

            <Label text="Valor Unit.:" GridPane.rowIndex="5"/>
            <TextField fx:id="txtValorUnitario" promptText="0.00"
                       GridPane.rowIndex="5" GridPane.columnIndex="1"/>

            <Label text="Total:" GridPane.rowIndex="6"/>
            <TextField fx:id="txtValorTotal" editable="false"
                       GridPane.rowIndex="6" GridPane.columnIndex="1"/>

            <Label text="Notas:" GridPane.rowIndex="7"/>
            <TextArea fx:id="txtNotas" prefRowCount="2"
                      GridPane.rowIndex="7" GridPane.columnIndex="1"/>
        </GridPane>

        <HBox spacing="10">
            <Button text="ðŸ’¾ Guardar" styleClass="primary-button" onAction="#handleGuardar"/>
            <Button text="ðŸ§¹ Limpiar" styleClass="secondary-button" onAction="#handleLimpiar"/>
        </HBox>

    </VBox>

    <!-- DERECHA: TABLA -->
    <VBox spacing="10" HBox.hgrow="ALWAYS">

        <Label text="ðŸ“‹ Ãšltimos gastos registrados" styleClass="content-title" style="-fx-font-size: 20px;"/>

        <TableView fx:id="tblUltimosGastos" VBox.vgrow="ALWAYS" prefHeight="600">
            <columns>
                <TableColumn fx:id="colFecha" text="Fecha" prefWidth="100" minWidth="90"/>
                <TableColumn fx:id="colCategoria" text="CategorÃ­a" prefWidth="130" minWidth="100"/>
                <TableColumn fx:id="colProducto" text="Producto" prefWidth="150" minWidth="120"/>
                <TableColumn fx:id="colCantidad" text="Cant" prefWidth="60" minWidth="50"/>
                <TableColumn fx:id="colValorUnitario" text="V. Unit" prefWidth="110" minWidth="100"/>
                <TableColumn fx:id="colTotal" text="Total" prefWidth="110" minWidth="100"/>
            </columns>
        </TableView>

    </VBox>

</HBox>